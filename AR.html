<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Location Demo</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <a-scene
        vr-mode-ui="enabled: false"
        renderer="logarithmicDepthBuffer: true;"
        embedded
        arjs="sourceType: webcam; debugUIEnabled: false;">

        <!-- กล้อง AR -->
        <a-camera gps-camera="minDistance: 10;" rotation-reader></a-camera>

        <!-- ตัวอย่างการแสดงผลไอคอนและสถานที่ -->
        <a-entity id="place-icons"></a-entity>

    </a-scene>

    <script>
        // ฟังก์ชันนี้ใช้ดึงข้อมูลสถานที่
        const places = [
            {
                name: "Cafe",
                lat: 16.75185399757452, 
                lng: 100.19693597468412
                type: "cafe",
                icon: "image/cafe.png"
            },
            {
                name: "Restaurant",
               lat: 16.750686757445894,
               lng: 100.19439673985032
                type: "food",
                icon: "image/food.png"
            },
            {
                name: "สวนหย่อม",
                lat: 16.75179004919567, 
                lng: 100.19691306466483
                type: "park",
                icon: "image/park.png"
            }
            
        ];

        // เมื่อโหลดหน้าเสร็จ ให้เริ่มเรนเดอร์ไอคอนสถานที่
        window.onload = () => {
            renderPlaces(places);
        };

        function renderPlaces(places) {
            const scene = document.querySelector('a-scene');

            places.forEach(place => {
                const latitude = place.latitude;
                const longitude = place.longitude;

                const iconElement = document.createElement('a-image');
                iconElement.setAttribute('gps-entity-place', `latitude: ${latitude}; longitude: ${longitude}`);
                iconElement.setAttribute('src', place.icon);
                iconElement.setAttribute('scale', '10, 10');  // ขนาดไอคอน

                // คลิกที่ไอคอนเพื่อแสดงชื่อสถานที่
                iconElement.addEventListener('click', (ev) => {
                    const name = place.name;
                    alert(`This is ${name}`);
                });

                scene.appendChild(iconElement);
            });
        }
    </script>
</body>
</html>


